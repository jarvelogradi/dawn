{{ 'custom-cart.css' | asset_url | stylesheet_tag }}
{{ 'badge.css' | asset_url | stylesheet_tag }}

<div id="custom-aside-cart">
    <div class="custom-cart__wrapper">
        <div class="nav__close">
            <h2>Mi Carrito</h2>
            <button onclick="handleAsideCart()"><span>&#x2715</span></button>
        </div>

        <div id="custom-cart-content" class="custom-cart__content">
            {% for item in cart.items %}
                <div class="custom-cart__item">
                    <div class="item__main-content">
                        <div class="main-content__image">
                            <img src="{{ item.image | image_url: width: 200 }}" width="100" height="100" loading="lazy"/>
                        </div>
                        <div class="main-content__info">
                            <h5>{{ item.product.title }}</h5>
                            <div class="picker-quantity">
                                <button onclick="updateItemFromCart('{{ item.key }}', '{{ item.quantity }}', 'less', '{{ item.price }}')">-</button>
                                <div id="quantity-label" class="picker-quantity__label">
                                    <h6 style="margin: 0;">{{ item.quantity }}</h6>
                                </div>
                                <button onclick="updateItemFromCart('{{ item.key }}', {{ item.quantity }}, 'add', '{{ item.price }}')">+</button>
                            </div>
                            <h6>{{ item.price | money_with_currency }}</h6>
                            <span class="badge {{ item.variant.title }}">
                                <div>
                                    <h5>{{ item.variant.title | capitalize }}</h5>
                                </div>
                            </span>
                        </div>
                    </div>
                    <div id="itemTotalPrice">
                        <button onclick="deleteItemFromCart('{{ item.key }}')">Eliminar</button>
                        <div style="margin-top:10px">
                            <h5>{{ item.final_line_price | money_with_currency }}</h5>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div id="custom-cart-bottom" class="custom-cart__bottom">
            <h3>Total:</h3>
            <div id="cartTotalPrice">
                <h2>{{ cart.total_price | money_with_currency }}</h2>
            </div>
        </div>
    </div>
    <div class="custom-cart__backdrop"></div>
</div>